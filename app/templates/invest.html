<!DOCTYPE html>
{% extends "index.html" %}
{% block head %}
  {{ super() }}
{% endblock %}
{% block content %}
<title> dashboard | ostex </title>
<body id = "body">
  <div class = "d-flex h-100 flex-column">
    <nav class = "navbar navbar-expand-sm navbar-dark bg-dark">
      <div class = "container-sm">
        <a class = "navbar-brand fs-6" href = "/dashboard">— o!se —</a>
        <button class = "navbar-toggler" type = "button" data-bs-toggle = "collapse" data-bs-target = "#navbarSupportedContent" aria-controls = "navbarSupportedContent" aria-expanded = "false" aria-label = "Toggle navigation">
          <span class = "navbar-toggler-icon"></span>
        </button>
        <div class = "collapse navbar-collapse" id = "navbarSupportedContent">
          <ul class = "navbar-nav me-auto mb-2 mb-sm-0">
            <li class = "nav-item">
              <a class = "nav-link fs-6" aria-current = "page" href = "/dashboard">Dashboard</a>
            </li>
            <li class = "nav-item">
              <a class = "nav-link fs-6" id = "activeLink" href = "/invest">Invest</a>
            </li>
            <li class = "nav-item">
              <a class = "nav-link fs-6" href = "/statistics">Statistics</a>
            </li>
          </ul>
          <div class = "btn-group">
            <button type = "button" class = "imgButton" data-bs-toggle = "dropdown" data-bs-display = "static" aria-expanded = "false">
              <img src = {{ avatar }} alt = {{ username }} width = "34" height = "34">
            </button>
            <ul class = "dropdown-menu dropdown-menu-lg-end" id = "dropdown-menu">
              <li><a class = "dropdown-item disabled">{{ username }} (You)</a></li>
              <li><hr class = "dropdown-divider"></li>
              <li><a class = "dropdown-item" href = "/signout">Sign Out</a></li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
    <div class = "details container-sm d-flex flex-fill">
      <div class = "col d-flex flex-fill" id = "cardBody" style = "padding: 10px 15px 10px 15px;">
        <div class = "card text-center d-flex flex-fill" style = "background-color: transparent; border: None;">
          <h1 class = "fs-2 text-center" style = "margin-bottom: 10px"> Invest </h1>
          <div class = "card-body d-flex flex-fill" style = "border: none; padding: 0px;">
            <div class = "container d-flex flex-fill">
              <div class = "row d-flex flex-fill">
                <div class = "col-sm-4 d-flex flex-fill flex-column justify-content-evenly" style = "padding: 0px;">
                  <div class = "card bg-dark" style = "margin: 0px 5px 5px;">
                    <div class = "card-body">
                      <div class = "fs-2 card-header" style = "border: None;">
                        Search
                      </div>
                      <div class = "container text-center">
                        <form action='/invest' class = "input-group input-group-sm mb-3" method='POST'>
                          <input type = "text" class = "form-control" placeholder = "Player ID/Username" name = "osu-id" aria-label = "Recipient's username" aria-describedby = "button-addon2">
                          <button type = "submit" class = "btn btn btn-secondary">Go!</button>
                        </form>
                      </div>
                      <div class = "container text-start">
                        <div class = "row g-0 row-cols-3">
                          <div class = "fs-6 col-md-auto">{{ searchedData[0] }}</div>
                          <div class = "fs-6 col-md-auto">{{ searchedData[1] }}</div>
                          <div class = "fs-6 col-md-auto">{{ searchedData[2] }}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class = "card bg-dark d-flex flex-fill" style = "margin: 5px 5px 10px;">
                    <div class = "card-body d-flex flex-fill flex-column">
                      <div class = "fs-2 card-header" style = "border: None;">
                        Trade
                      </div>
                      <div class = "d-flex flex-fill flex-column justify-content-evenly overflow-auto" style = "padding: 0px;">
                        <div class = "card d-flex flex-fill flex-column justify-content-evenly table-responsive" style = "background-color: transparent; border: None;">
                          <div class = "card-body" id = "forceTableScroll" style = "background-color: transparent;">
                            
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-8 d-flex flex-fill flex-column" style = "padding: 0px;">
                  <div class = "card bg-dark d-flex flex-fill flex-column" style = "margin: 0px 5px 10px;">
                    <div class = "card-body d-flex flex-fill flex-column">
                      <div class="fs-2 card-header" style = "border: None;">
                        Top 1,000 Rankings
                      </div>
                      <div class = "d-flex flex-fill flex-column justify-content-evenly" style = "padding: 0px;">
                        <div class = "card d-flex flex-fill flex-column justify-content-evenly overflow-auto table-responsive" style = "background-color: transparent; border: None; ">
                          <div class = "card-body" id = "forceTableScroll">
                            <table class = "table table-sm table-borderless table-dark table-striped table-hover" style = "margin: 0px;">
                              <thead>
                                <tr>
                                  <th scope = "col" id = "trHead">#</th>
                                  <th scope = "col" id = "trHead">Player</th>
                                  <th scope = "col" id = "trHead">pp</th>
                                  <th scope = "col" id = "trHead">o!sp Value</th>
                                </tr>
                              </thead>
                              {% for user in rankings%}
                                <tr>
                                  <th scope="row d-flex flex-fill">{{user[0]}}</th>
                                  <td>{{user[1]}}</td>
                                  <td>{{user[2]}} pp</td>
                                  <td>o!sp {{user[3]}}</td>
                                </tr>
                              {% endfor %}
                            </table>
                          </div>                        
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> 
</body>
{% endblock %}
