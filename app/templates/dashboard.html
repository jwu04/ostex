<!DOCTYPE html>
{% extends "index.html" %}
{% block head %}
  {{ super() }}
{% endblock %}
{% block content %}
<title> dashboard | ostex </title>
<body id = "body">
  <div class = "d-flex h-100 flex-column">
    <nav class = "navbar navbar-expand-sm navbar-dark bg-dark">
      <div class = "container-sm">
        <a class = "navbar-brand fs-6" href = "/dashboard">— o!se —</a>
        <button class = "navbar-toggler" type = "button" data-bs-toggle = "collapse" data-bs-target = "#navbarSupportedContent" aria-controls = "navbarSupportedContent" aria-expanded = "false" aria-label = "Toggle navigation">
          <span class = "navbar-toggler-icon"></span>
        </button>
        <div class = "collapse navbar-collapse" id = "navbarSupportedContent">
          <ul class = "navbar-nav me-auto mb-2 mb-sm-0">
            <li class = "nav-item">
              <a class = "nav-link fs-6" id = "activeLink" aria-current = "page" href = "/dashboard">Dashboard</a>
            </li>
            <li class = "nav-item">
              <a class = "nav-link fs-6" href = "/invest">Invest</a>
            </li>
            <li class = "nav-item">
              <a class = "nav-link fs-6" href = "/statistics">Statistics</a>
            </li>
          </ul>
          <div class = "btn-group">
            <button type = "button" class = "imgButton" data-bs-toggle = "dropdown" data-bs-display = "static" aria-expanded = "false">
              <img src = {{ avatar }} alt = {{ username }} width = "34" height = "34">
            </button>
            <ul class = "dropdown-menu dropdown-menu-lg-end" id = "dropdown-menu">
              <li><a class = "dropdown-item disabled">{{ username }} (You)</a></li>
              <li><hr class = "dropdown-divider"></li>
              <li><a class = "dropdown-item" href = "/signout">Sign Out</a></li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
    <div class = "details container-sm d-flex flex-fill">
      <div class = "col d-flex flex-fill" id = "cardBody" style = "padding: 10px 15px 10px 15px;">
        <div class = "card text-center d-flex flex-fill" style = "background-color: transparent; border: None;">
          <h1 class = "fs-2 text-center" style = "margin-bottom: 10px"> Dashboard </h1>
          <div class = "card-body d-flex flex-fill" style = "border: none; padding: 0px;">
            <div class = "container d-flex flex-fill">
              <div class = "row d-flex flex-fill">
                <div class = "col-sm-4 d-flex flex-fill flex-column justify-content-evenly" style = "padding: 0px;">
                  <div class = "card bg-dark" style = "margin: 0px 5px 5px;">
                    <div class = "card-body">
                      <div class="fs-2 card-header" style = "border: None;">
                        {{ username }}
                      </div>
                      <div class="container">
                        <div class="row align-items-start">
                          <div class="col">
                            <p class = "fs-6" style = "color: #ADB5BD;">Account Value<p>
                            <p class = "fs-6">o!sp | {{ sp }}<p>
                          </div>
                          <div class="col">
                            <p class = "fs-6" style = "color: #ADB5BD;">Overall Net Gain<p>
                            <p class = "fs-6">+727 +0.69%<p>
                          </div> 
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class = "card bg-dark d-flex flex-fill" style = "margin: 5px 5px 10px;">
                    <div class = "card-body d-flex flex-fill flex-column">
                      <div class = "fs-2 card-header" style = "border: None;">
                        Overall Top Stocks
                      </div>
                      <div class = "d-flex flex-fill flex-column justify-content-evenly overflow-auto" style = "padding: 0px;">
                        <div class = "card d-flex flex-fill flex-column justify-content-evenly table-responsive" style = "background-color: transparent; border: None;">
                          <div class = "card-body" id = "forceTableScroll" style = "background-color: transparent;">
                            <table class = "table table-sm table-borderless table-dark table-striped table-hover" style = "margin: 0px;">
                              <thead>
                                <tr>
                                  <th scope = "col" id = "trHead">#</th>
                                  <th scope = "col" id = "trHead">Player</th>
                                  <th scope = "col" id = "trHead">o!sp Value</th>
                                </tr>
                              </thead>
                              <tbody>
                                {% for user in rankings%}
                                  <tr>
                                    <th scope="row d-flex flex-fill">{{user[0]}}</th>
                                    <td>{{user[1]}}</td>
                                    <td>{{user[2]}}</td>
                                  </tr>
                                {% endfor %}
                              </tbody>
                            </table> 
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-8 d-flex flex-fill flex-column" style = "padding: 0px;">
                  <div class = "card bg-dark d-flex flex-fill flex-column" style = "margin: 0px 5px 10px;">
                    <div class = "card-body d-flex flex-fill flex-column">
                      <div class="fs-2 card-header" style = "border: None;">
                        Portfolio
                      </div>
                      <div class = "d-flex flex-fill flex-column justify-content-evenly" style = "padding: 0px;">
                        <div class = "card d-flex flex-fill flex-column justify-content-evenly overflow-auto table-responsive" style = "background-color: transparent; border: None; ">
                          <div class = "card-body" id = "forceTableScroll">
                            <table class = "table table-sm table-borderless table-dark table-striped table-hover" style = "margin: 0px;">
                              <thead>
                                <tr>
                                  <th scope = "col" id = "trHead">Player</th>
                                  <th scope = "col" id = "trHead">Stock Quantity</th>
                                  <th scope = "col" id = "trHead">Total Value</th>
                                </tr>
                              </thead>
                              {% for user in rankings%}
                                <tr>
                                  <td>{{user[1]}}</td>
                                  <td>{{user[0]}}</td>
                                  <td>{{user[2]}}</td>
                                </tr>
                              {% endfor %}
                              <tfoot>
                                <tr>
                                 <td scope = "col" id = "trHead">Overall Value</td>
                                  <td scope = "col" id = "trHead"></td>
                                  <td scope = "col" id = "trHead">420</td>
                                </tr>
                              </tfoot>
                            </table> 
                          </div>                        
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> 
</body>
{% endblock %}